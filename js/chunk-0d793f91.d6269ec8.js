(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d793f91"],{"21ba":function(t,e,a){t.exports=a.p+"img/food-benner.68e0b63e.png"},"23a3":function(t,e,a){},"2ca3":function(t,e,a){t.exports=a.p+"img/hotel-benner.65071185.png"},"4a08":function(t,e,a){t.exports=a.p+"img/tour-benner.d66c016f.png"},5138:function(t,e,a){t.exports=a.p+"img/right.ab5307f3.svg"},"5a47":function(t,e,a){t.exports=a.p+"img/left.bc9d3f72.svg"},6622:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cards-slider-container"},[s("button",{staticClass:"page-button left",attrs:{type:"button"},on:{click:t.goLeft}},[s("img",{attrs:{src:a("5a47"),alt:"選單左移按鈕"}})]),s("section",{staticClass:"cards-slider"},[s("div",{ref:"scroll",staticClass:"scroll-container",style:{transform:"translateX("+t.offsetWidth+"px)"}},[t.dataLoaing?t._l(new Array(3),(function(t,e){return s("div",{key:e,staticClass:"card-container"},[s("MaskCard")],1)})):t._l(t.DataList,(function(t){return s("div",{key:t.ID,staticClass:"card-container"},[s("Card",{attrs:{data:t,type:t.Type,classType:"commonCard"}})],1)}))],2)]),s("button",{staticClass:"page-button right",attrs:{type:"button"},on:{click:t.goRight}},[s("img",{attrs:{src:a("5138"),alt:"選單右移按鈕"}})])])},i=[],n=a("5530"),o=a("ff86"),c=a("10d4"),r=a("2f62"),h={name:"cards-slider",props:["mode","theme"],data:function(){return{dataLoaing:!0,timeout:{},themeTimeout:{},requestCount:0,themeRequestCount:0,offsetWidth:0,scrollWidth:0}},computed:Object(n["a"])({DataList:function(){return"hot"===this.mode?this.hotDataList:"theme"===this.mode?this.themes[this.theme.themeId].themeDataList:[]}},Object(r["b"])(["hots","hotDataList","themes"])),methods:{getHotDataList:function(){this.$store.dispatch("getHotDataList",{callbackFn:this.dataLoaingFinish})},getThemeDataList:function(){this.$store.dispatch("getThemeDataList",{theme:this.theme,count:3,callbackFn:this.dataLoaingFinish})},dataLoaingFinish:function(){this.dataLoaing=!1},getScrollWidth:function(){var t=this;this.$nextTick((function(){t.scrollWidth=t.$refs.scroll.clientWidth,t.offsetWidth=0}))},goLeft:function(){Math.abs(this.offsetWidth)>0&&(this.offsetWidth+=this.scrollWidth)},goRight:function(){var t=this.$refs.scroll,e=t.scrollWidth,a=t.clientWidth;Math.abs(this.offsetWidth)+5<e-a&&(this.offsetWidth-=this.scrollWidth)}},created:function(){var t=this,e=this;"hot"===e.mode&&(e.timeout=window.setInterval((function(){e.requestCount++,e.hots.length>0&&e.getHotDataList(),(e.hotDataList.length>0||e.requestCount>=35)&&window.clearInterval(e.timeout)}),1e3)),"theme"===e.mode&&(e.themeTimeout=window.setInterval((function(){e.themeRequestCount++,e.getThemeDataList(),(t.themes[t.theme.themeId].themeDataList.length>0||e.themeRequestCount>=35)&&window.clearInterval(e.themeTimeout)}),1e3)),this.getScrollWidth()},beforeDestroy:function(){var t=this;window.clearInterval(t.themeTimeout),window.clearInterval(t.timeout)},components:{Card:o["a"],MaskCard:c["a"]}},l=h,u=(a("744c"),a("2877")),d=Object(u["a"])(l,s,i,!1,null,"52be5c44",null);e["a"]=d.exports},"744c":function(t,e,a){"use strict";a("23a3")},baf8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"benner-container",style:{backgroundImage:t.bgImage}},[a("h1",{staticClass:"benner-title"},[t._v("主題"+t._s(t.classType_zh))])]),a("div",{staticClass:"theme"},[Object.keys(t.themes).length>0?t._l(t.themes,(function(e){return a("section",{key:e.themeId,staticClass:"theme-section"},[a("div",{staticClass:"theme-section-title"},[a("h2",{staticClass:"theme-section-title-text"},[t._v(t._s(e.themeName))]),a("div",{staticClass:"theme-section-title-right"},[a("button",[a("router-link",{staticClass:"theme-section-title-btn",attrs:{to:{name:"theme",params:{index:e.themeId}}}},[t._v("查看更多")])],1)])]),a("CardSlider",{attrs:{mode:"theme",theme:e}})],1)})):[a("NoContent")]],2)])},i=[],n=a("5530"),o=a("6622"),c=a("a1eb"),r=a("2f62"),h={name:"theme",data:function(){return{dataType:""}},watch:{themes:function(){this.getThemeDataList()}},computed:Object(n["a"])({classType_zh:function(){switch(this.dataType){case"activities":return"活動";case"restaurants":return"餐廳";case"hotels":return"飯店";case"scenicspots":return"景點";default:return"其他"}},bgImage:function(){switch(this.dataType){case"activities":return"url(".concat(a("4a08"),")");case"restaurants":return"url(".concat(a("21ba"),")");case"hotels":return"url(".concat(a("2ca3"),")");case"scenicspots":return"url(".concat(a("4a08"),")");default:return"url(".concat(a("4a08"),")")}}},Object(r["b"])(["themes","dataLoaing"])),methods:{getThemeDataList:function(){var t=this.dataType=this.$route.params.type;this.$store.dispatch("getSingleTypeThemeDataList",t)}},created:function(){this.getThemeDataList()},components:{CardSlider:o["a"],NoContent:c["a"]}},l=h,u=(a("fdb5"),a("2877")),d=Object(u["a"])(l,s,i,!1,null,"4b3e5bcf",null);e["default"]=d.exports},d70c:function(t,e,a){},fdb5:function(t,e,a){"use strict";a("d70c")}}]);
//# sourceMappingURL=chunk-0d793f91.d6269ec8.js.map
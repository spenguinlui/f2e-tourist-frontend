(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13cea410"],{"19ad":function(t,s,e){"use strict";e("468e")},3242:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"login-card-container"},[e("div",{staticClass:"bg-card",style:{height:t.cardHight+"px"}},[t._m(0)]),e("div",{ref:"loginCard",staticClass:"login-card"},[t._m(1),e("section",{staticClass:"login-card-section"},[e("form",{staticClass:"form",attrs:{action:"post"}},[e("label",{staticClass:"form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"form-input-field",attrs:{type:"password",placeholder:" ",required:"required"},domProps:{value:t.new_password},on:{input:function(s){s.target.composing||(t.new_password=s.target.value)}}}),e("span",{staticClass:"form-input-label"},[t._v("密碼")])]),e("label",{staticClass:"form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-input-field",attrs:{type:"password",placeholder:" ",required:"required"},domProps:{value:t.confirmPassword},on:{input:function(s){s.target.composing||(t.confirmPassword=s.target.value)}}}),e("span",{staticClass:"form-input-label"},[t._v("再次輸入密碼")])]),e("div",{staticClass:"btn-group"},[e("button",{staticClass:"form-btn",attrs:{type:"submit"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.resetPassword.apply(null,arguments)}}},[t._v("修改密碼")])])])])])])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("h1",[t._v("實現"),e("br"),t._v("夢想旅程")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",{staticClass:"login-card-header"},[e("div",{staticClass:"login-card-header-btn",attrs:{type:"button"}},[t._v("修改密碼")])])}],n=e("bc3a"),o=e.n(n),i={data:function(){return{token:"",new_password:"",confirmPassword:"",cardHight:""}},methods:{getResetPasswordToken:function(){this.token=this.$route.query.resetPasswordToken},resetPassword:function(){var t=this;if(this.new_password===this.confirmPassword){var s="https://f2e-tourist-backend.herokuapp.com";o.a.post("".concat(s,"/api/v1/user/edit_password"),{reset_password_token:this.token,new_password:this.new_password}).then((function(){window.alert("修改成功，請重新登入！"),t.$router.push({name:"user-login"})})).catch((function(t){window.alert("修改失敗！"),console.log(t)}))}else window.alert("確認密碼不符！")}},created:function(){var t=this;this.getResetPasswordToken(),this.$nextTick((function(){t.cardHight=t.$refs.loginCard.offsetHeight}))},updated:function(){this.cardHight=this.$refs.loginCard.offsetHeight}},c=i,d=(e("19ad"),e("2877")),l=Object(d["a"])(c,a,r,!1,null,"06473c1a",null);s["default"]=l.exports},"468e":function(t,s,e){}}]);
//# sourceMappingURL=chunk-13cea410.04b9a4dc.js.map
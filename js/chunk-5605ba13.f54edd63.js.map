{"version":3,"sources":["webpack:///./src/pages/admin/index.vue?cd59","webpack:///./src/pages/admin/index.vue?e9c3","webpack:///src/pages/admin/index.vue","webpack:///./src/pages/admin/index.vue?4ef6","webpack:///./src/pages/admin/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","name","on","sighOut","_e","staticRenderFns","data","isLogin","methods","$store","dispatch","created","checkIsLogin","delete_cookie","document","cookie","get_cookie","split","some","component"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,UAAUF,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,cAAc,CAACG,YAAY,MAAMC,MAAM,CAAC,GAAK,CAAEC,KAAM,kBAAmB,CAACT,EAAIM,GAAG,UAAUF,EAAG,cAAc,CAACG,YAAY,MAAMC,MAAM,CAAC,GAAK,CAAEC,KAAM,iBAAkB,CAACT,EAAIM,GAAG,WAAWF,EAAG,cAAc,CAACG,YAAY,MAAMC,MAAM,CAAC,GAAK,CAAEC,KAAM,qBAAsB,CAACT,EAAIM,GAAG,UAAUF,EAAG,cAAc,CAACG,YAAY,MAAMC,MAAM,CAAC,GAAK,CAAEC,KAAM,mBAAoB,CAACT,EAAIM,GAAG,UAAUF,EAAG,SAAS,CAACG,YAAY,MAAMC,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQV,EAAIW,UAAU,CAACX,EAAIM,GAAG,YAAY,GAAGF,EAAG,gBAAgB,GAAGJ,EAAIY,MAC5qBC,EAAkB,G,sFCgBtB,GACEC,KADF,WAEI,MAAO,CACLC,SAAS,IAGbC,QAAS,CACPL,QADJ,WAEMV,KAAKgB,OAAOC,SAAS,oCAAqCjB,OAE5D,aAJJ,WAIA,uKAEA,uBACA,iBAHA,SAIA,kBACA,iBACA,gBAEA,kBACA,wBACA,wCAVA,+CAcEkB,QAxBF,WAyBIlB,KAAKmB,iBAKT,SAASC,EAAc,EAAvB,KACA,OACIC,SAASC,OAASd,EAAO,KAC7B,kBACA,mBACA,0CAIA,SAASe,EAAWf,GAClB,OAAOa,SAASC,OAAOE,MAAM,KAAKC,MAAK,SAAzC,GACI,OAAJ,8BC1D8V,Q,wBCQ1VC,EAAY,eACd,EACA5B,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAAc,E","file":"js/chunk-5605ba13.f54edd63.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a031601&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLogin)?_c('div',[_c('h1',[_vm._v(\"管理頁面\")]),_c('div',{staticClass:\"btn-group\"},[_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{ name: 'admin-themes' }}},[_vm._v(\"主題管理\")]),_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{ name: 'admin-users' }}},[_vm._v(\"使用者管理\")]),_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{ name: 'admin-suppliers' }}},[_vm._v(\"商家管理\")]),_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{ name: 'admin-setting' }}},[_vm._v(\"參數設定\")]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.sighOut}},[_vm._v(\"管理員登出\")])],1),_c('router-view')],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"isLogin\">\n    <h1>管理頁面</h1>\n    <div class=\"btn-group\">\n      <router-link :to=\"{ name: 'admin-themes' }\" class=\"btn\">主題管理</router-link> \n      <router-link :to=\"{ name: 'admin-users' }\" class=\"btn\">使用者管理</router-link> \n      <router-link :to=\"{ name: 'admin-suppliers' }\" class=\"btn\">商家管理</router-link> \n      <router-link :to=\"{ name: 'admin-setting' }\" class=\"btn\">參數設定</router-link>\n      <button type=\"button\" class=\"btn\" @click=\"sighOut\">管理員登出</button>\n    </div>\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { AJAX_S_checkAdminLogin } from '@/modules/server-api';\n\nexport default {\n  data() {\n    return {\n      isLogin: false\n    }\n  },\n  methods: {\n    sighOut() {\n      this.$store.dispatch(\"serverModule/signOutAdminOnServer\", this);\n    },\n    async checkIsLogin() {\n      // 防止 router 守衛沒啟動\n      const adminAuthToken = this.$cookies.get('_a');\n      const adminParams = { auth_token: adminAuthToken };\n      await AJAX_S_checkAdminLogin(adminParams)\n      .then(() => {\n        this.isLogin = true;\n      })\n      .catch(() => {\n        delete_cookie('_a', '/', 'localhost');\n        this.$router.push({ name: 'admin-login' });\n      })\n    }\n  },\n  created() {\n    this.checkIsLogin();\n  }\n}\n\n// 套件的刪不掉，刪除 cookie 補丁\nfunction delete_cookie( name, path, domain ) {\n  if( get_cookie( name ) ) {\n    document.cookie = name + \"=\" +\n      ((path) ? \";path=\"+path:\"\")+\n      ((domain)?\";domain=\"+domain:\"\") +\n      \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\n  }\n}\n\nfunction get_cookie(name){\n  return document.cookie.split(';').some(c => {\n      return c.trim().startsWith(name + '=');\n  });\n}\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"@/assets/scss/main.scss\";\n\n  .btn-group {\n    @include flex-row-center-center;\n    .btn {\n      @include btn-outline;\n      @include btn-text;\n      margin-right: .5rem;\n    }\n  }\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a031601&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6a031601&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a031601\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}